<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>email习题闯关系统</title>
    <link href="style.css" type="text/css" rel="stylesheet" />
</head>
<body>
    <!-- 新增：左侧题号导航栏 -->
    <div class="question-nav" id="questionNav">
        <div class="nav-title">题目导航</div>
        <div class="nav-list" id="navList">
            <!-- 题号将通过JS动态生成 -->
        </div>
    </div>
    <div class="container">
        <h1>Email选择练习</h1>
        <a style="display: inline-block;align-items: center;justify-content: center;width: 80;height: 80;border: 3px solid #e5e7eb; border-radius: 6px;background-color: #ffffff; color: #374151;" href="index.html">返回主页</a>
        <!-- 答题进度提示 -->
        <div class="question-progress" id="questionProgress">当前：第1题 / 共25题</div>
        
        <!-- 题目列表：带图题目预留图片标签 -->
        <div class="question-list" id="questionList">
            <!-- 题目1 -->
            <div class="question-card" data-question-id="1">
                <div class="question-title">1.小李的电子邮箱经常收到某公司发送的推广邮件，为此他将该公司的邮件地址添加到自己邮箱的黑名单中，下列关于添加黑名单的说法正确的是（）。</div>
                <div class="option-item">
                    <input type="radio" name="q1" value="A" id="q1a">
                    <label for="q1a">A. 小李的邮箱将会屏蔽该公司向他发送的垃圾邮件</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q1" value="B" id="q1b">
                    <label for="q1b">B. 小李的邮箱将会屏蔽该公司向他发送的所有邮件</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q1" value="C" id="q1c">
                    <label for="q1c">C. 小李将不能回复该公司向他发送的邮件</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q1" value="D" id="q1d">
                    <label for="q1d">D. 添加黑名单以后，该公司在给他发送电子邮件时会提示发送失败</label>
                </div>
                <div class="answer-info" style="display: none;" data-correct-answer="B"> 
                    解析：1. A错误，邮箱黑名单的屏蔽规则是针对**发件人地址**的全量屏蔽，并非仅屏蔽标注为垃圾邮件的内容，只要是该发件人发送的邮件，都会被屏蔽，而非区分是否为垃圾邮件；
                        2. B正确，邮箱添加黑名单的核心功能是**对指定发件人地址进行全量拦截**，该发件人后续发送的所有邮件都会被邮箱系统自动拒收、屏蔽，不会进入收件箱，这是黑名单的核心规则；
                        3. C错误，添加黑名单是**接收端**的拦截操作，仅影响该公司向小李发送邮件的接收，不影响小李主动向该公司的邮箱地址发送/回复邮件，小李可正常编辑并发送邮件至该地址；
                        4. D错误，黑名单是小李邮箱的**本地/接收端设置**，发件方（该公司）发送邮件时，其邮件服务器会正常发送，不会收到发送失败的提示，仅小李的邮箱会在后台拦截该邮件，发件方无感知。
                </div>
                <!-- 新增：解析展示区域 -->
                <div class="analysis-area" id="analysis1">
                    <div class="analysis-title">答题解析</div>
                    <div class="analysis-content" id="analysisContent1"></div>
                </div>
            </div>
            <!-- 题目2 -->
            <div class="question-card" data-question-id="2">
                <div class="question-title">2.在发送电子邮件时，附件中不能添加的是（）。</div>
                <div class="option-item">
                    <input type="radio" name="q2" value="A" id="q2a">
                    <label for="q2a"><img src="images/email_choice_2_A.png" alt="" class="question-img-option"></label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q2" value="B" id="q2b">
                    <label for="q2b"><img src="images/email_choice_2_B.png" alt="" class="question-img-option"></label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q2" value="C" id="q2c">
                    <label for="q2c"><img src="images/email_choice_2_C.png" alt="" class="question-img-option"></label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q2" value="D" id="q2d">
                    <label for="q2d"><img src="images/email_choice_2_D.png" alt="" class="question-img-option"></label>
                </div>
                <div class="answer-info" style="display: none;" data-correct-answer="D"> 
                    解析：1. A正确，压缩文件（.rar/.zip等）是电子邮件附件支持的常见文件格式，可将多个文件打包压缩后作为单个附件发送，节省传输空间且方便整理，无添加限制；
            2. B正确，视频文件（.wmv/.mp4/.avi等）属于常规的多媒体文件，电子邮箱均支持添加为附件（仅受附件大小上限限制），无格式上的添加限制；
            3. C正确，演示文稿文件（.pptx/.ppt等）是办公常用文件格式，是电子邮件附件的高频使用类型，所有主流邮箱均支持添加，无任何限制；
            4. D错误，电子邮箱的附件功能**仅支持添加具体的文件**，不支持直接添加文件夹。若需要发送文件夹内的内容，需先将文件夹进行压缩（生成.rar/.zip等压缩文件），再将压缩后的文件作为附件添加发送。
                </div>
                <!-- 新增：解析展示区域 -->
                <div class="analysis-area" id="analysis2">
                    <div class="analysis-title">答题解析</div>
                    <div class="analysis-content" id="analysisContent2"></div>
                </div>
            </div>
            <!-- 题目3 -->
            <div class="question-card" data-question-id="3">
                <div class="question-title">3.发送电子邮件时，成功发送的前提是必须知道对方的（）</div>
                <div class="option-item">
                    <input type="radio" name="q3" value="A" id="q3a">
                    <label for="q3a">A. 姓名</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q3" value="B" id="q3b">
                    <label for="q3b">B. 电子邮箱地址</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q3" value="C" id="q3c">
                    <label for="q3c">C. 手机号</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q3" value="D" id="q3d">
                    <label for="q3d">D. 家庭住址</label>
                </div>
                <div class="answer-info" style="display: none;" data-correct-answer="B"> 
                    解析：1. A错误，姓名是对收件人的身份标识，电子邮箱系统发送邮件时，无需验证或识别收件人姓名，仅填写姓名不会让邮件送达，姓名可填可不填，并非发送的必要条件；
            2. B正确，电子邮箱地址是收件人在网络中的**专属邮件标识**，相当于邮件的“收件地址”，邮件系统会根据填写的电子邮箱地址，将邮件准确投递到对应收件人的邮箱服务器，这是成功发送电子邮件的核心且唯一的必备前提；
            3. C错误，手机号与电子邮箱系统无直接关联，仅知道手机号无法完成邮件发送，即便部分邮箱支持手机号绑定，也需通过手机号匹配到对应的电子邮箱地址才能投递，手机号本身并非发送前提；
            4. D错误，家庭住址是现实中的物理地址，与网络中的电子邮件投递无关，邮件系统无法通过家庭住址定位到收件人的邮箱，因此家庭住址完全不是发送邮件的必要条件。
                </div>
                <!-- 新增：解析展示区域 -->
                <div class="analysis-area" id="analysis3">
                    <div class="analysis-title">答题解析</div>
                    <div class="analysis-content" id="analysisContent3"></div>
                </div>
            </div>
            <!-- 题目4 -->
            <div class="question-card" data-question-id="4">
                <div class="question-title">4.下列选项中，不属于电子邮箱安全使用做法的是（）</div>
                <div class="option-item">
                    <input type="radio" name="q4" value="A" id="q4a">
                    <label for="q4a">A. 定期更换密码</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q4" value="B" id="q4b">
                    <label for="q4b">B. 密码设置成简单的数字组合</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q4" value="C" id="q4c">
                    <label for="q4c">C. 不随意点击陌生邮件的链接</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q4" value="D" id="q4d">
                    <label for="q4d">D. 不向他人泄露邮箱密码</label>
                </div>
                <div class="answer-info" style="display: none;" data-correct-answer="B"> 
                    解析：1. A正确，定期更换邮箱密码是重要的安全防护做法，能有效降低密码被破解、盗用后长期被非法使用的风险，提升邮箱账户安全性；
            2. B错误，将密码设置成简单的数字组合（如123456、666666等），极易被黑客通过暴力破解、字典攻击等方式获取，会大幅降低邮箱账户的安全等级，属于邮箱使用的不安全操作，而非安全做法；
            3. C正确，陌生邮件中的链接可能指向钓鱼网站、病毒木马下载页面，随意点击会导致邮箱账户信息被盗、电脑被植入病毒，不随意点击是防范网络诈骗和病毒攻击的关键安全做法；
            4. D正确，邮箱密码是账户的核心登录凭证，向他人泄露密码会直接导致账户失去安全保护，被他人随意登录、查看邮件内容甚至篡改信息，不泄露密码是邮箱安全使用的基础要求。
                </div>
                <!-- 新增：解析展示区域 -->
                <div class="analysis-area" id="analysis4">
                    <div class="analysis-title">答题解析</div>
                    <div class="analysis-content" id="analysisContent4"></div>
                </div>
            </div>
            <!-- 题目5 -->
            <div class="question-card" data-question-id="5">
                <div class="question-title">5.当收到陌生的中奖、领奖类电子邮件时，正确的做法是（）</div>
                <div class="option-item">
                    <input type="radio" name="q5" value="A" id="q5a">
                    <label for="q5a">A. 立即点击邮件内的链接填写个人信息</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q5" value="B" id="q5b">
                    <label for="q5b">B. 回复邮件询问具体领奖方式</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q5" value="C" id="q5c">
                    <label for="q5c">C. 直接删除，不予理会</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="q5" value="D" id="q5d">
                    <label for="q5d">D. 转发给同学一起查看</label>
                </div>
                <div class="answer-info" style="display: none;" data-correct-answer="C"> 
                    解析：1. A错误，陌生中奖领奖邮件内的链接多为钓鱼网站，点击填写个人信息（身份证、银行卡、手机号等）会导致信息被盗取，进而引发财产损失、个人信息泄露等风险，是典型的被骗操作；
            2. B错误，回复该类邮件会向诈骗分子确认此邮箱为有效使用地址，后续会收到更多诈骗信息，甚至被诈骗分子针对性跟进诈骗，大幅增加被骗概率；
            3. C正确，陌生的无门槛中奖、领奖类电子邮件均为网络诈骗手段，不存在凭空的陌生中奖福利，直接删除、不予理会是从根源规避诈骗风险，保护个人信息和财产安全的正确做法；
            4. D错误，将诈骗邮件转发给同学，会让身边人接触到诈骗信息，增加他人的被骗可能，同时造成诈骗信息的传播，是不可取的行为。
                </div>
                <!-- 新增：解析展示区域 -->
                <div class="analysis-area" id="analysis5">
                    <div class="analysis-title">答题解析</div>
                    <div class="analysis-content" id="analysisContent5"></div>
                </div>
            </div>
        
        </div>
        <!-- 下一题按钮（答题完成后显示） -->
        <button class="btn next-btn" id="nextBtn">进入下一题</button>

        <!-- 提交结果按钮（最后一题答题完成后显示） -->
        <button class="btn submit-btn" id="submitAllBtn" style="display: none;">提交所有答案并查看统计结果</button>

        <!-- 结果统计区域 -->
        <div class="result-container" id="resultContainer">
            <div class="result-title">闯关完成！答题统计</div>
            <div class="result-info" id="totalCount">总答题数：0题</div>
            <div class="result-info" id="correctCount">答对题数：0题</div>
            <div class="result-info" id="accuracyRate">正确率：0%</div>
        </div>

        <!-- 新增：右侧上下题按钮容器 -->
        <div class="btn-sidebar" id="btnSidebar">
            <button class="sidebar-btn prev-btn" id="prevBtn">↑</button>
            <button class="sidebar-btn next-btn" id="sidebarNextBtn">↓</button>
        </div>
    </div>

    <!-- 新增：自定义提示框（全局唯一） -->
    <div class="custom-tip" id="customTip">
        <div class="tip-title" id="tipTitle"></div>
        <div class="tip-content" id="tipContent"></div>
        <button class="tip-confirm" id="tipConfirm">确定</button>
    </div>
</body>
<script>
    // 全局变量
    let answerRecord = {
        total: 0, // 总题数
        correct: 0 // 答对题数
    };
    let currentQuestionIndex = 0; // 当前显示的题目索引（从0开始）
    let allQuestionCards = []; // 所有题目卡片集合
    let allNavItems = []; // 所有导航题号元素集合
    const customTip = document.getElementById('customTip'); // 自定义提示框实例
    const prevBtn = document.getElementById('prevBtn'); // 左侧上一题按钮
    const sidebarNextBtn = document.getElementById('sidebarNextBtn'); // 右侧下一题按钮

    // 页面加载完成后初始化功能
    window.onload = function() {
        // 1. 初始化变量，获取所有题目卡片
        allQuestionCards = Array.from(document.querySelectorAll('.question-card'));
        answerRecord.total = allQuestionCards.length;
        document.getElementById('totalCount').innerText = `总答题数：${answerRecord.total}题`;

        // 2. 动态生成左侧题号导航
        generateQuestionNav();

        // 3. 显示第一题，更新答题进度和导航激活状态
        showCurrentQuestion();

        // 4. 更新侧边按钮启用/禁用状态
        updateSidebarBtnStatus();

        // 5. 为所有单选选项绑定即时判断事件
        const allRadioInputs = document.querySelectorAll('input[type="radio"]');
        allRadioInputs.forEach(input => {
            input.addEventListener('change', function() {
                // 禁用当前题目的所有选项（防止重复选择）
                const currentQuestion = this.closest('.question-card');
                const currentRadioInputs = currentQuestion.querySelectorAll('input[type="radio"]');
                currentRadioInputs.forEach(radio => radio.disabled = true);

                // 获取当前题目相关数据
                const questionId = currentQuestion.getAttribute('data-question-id');
                const answerInfo = currentQuestion.querySelector('.answer-info');
                const correctAnswer = answerInfo.getAttribute('data-correct-answer');
                const userAnswer = this.value;
                const analysis = answerInfo.innerText;

                // 高亮显示正确/错误选项
                highlightOption(currentQuestion, correctAnswer, userAnswer);

                // 填充解析区域并显示
                const analysisContent = document.getElementById(`analysisContent${questionId}`);
                const analysisArea = document.getElementById(`analysis${questionId}`);
                analysisContent.innerText = analysis;
                analysisArea.style.display = 'block';

                // 答题结果判断，显示自定义提示框
                if (userAnswer === correctAnswer) {
                    currentQuestion.setAttribute('data-is-correct', 'true');
                    showCustomTip('correct', '回答正确！', '恭喜你，掌握了该知识点～');
                } else {
                    currentQuestion.setAttribute('data-is-correct', 'false');
                    showCustomTip('error', '回答错误', `正确答案是：${correctAnswer}，请仔细查看下方解析哦～`);
                }

                // 显示下一题按钮（最后一题显示提交按钮）
                if (currentQuestionIndex < answerRecord.total - 1) {
                    document.getElementById('nextBtn').style.display = 'block';
                } else {
                    document.getElementById('submitAllBtn').style.display = 'block';
                }
            });
        });

        // 6. 绑定自定义提示框确定按钮事件
        document.getElementById('tipConfirm').addEventListener('click', function() {
            customTip.style.display = 'none';
        });

        // 7. 绑定底部下一题按钮事件
        document.getElementById('nextBtn').addEventListener('click', function() {
            goToNextQuestion();
            // 隐藏下一题按钮
            this.style.display = 'none';
        });

        // 8. 绑定右侧侧边栏上下题按钮事件
        prevBtn.addEventListener('click', goToPrevQuestion);
        sidebarNextBtn.addEventListener('click', goToNextQuestion);

        // 9. 绑定提交按钮事件，统计最终结果
        document.getElementById('submitAllBtn').addEventListener('click', function() {
            // 重新统计答对题数
            answerRecord.correct = 0;
            allQuestionCards.forEach(card => {
                const isCorrect = card.getAttribute('data-is-correct');
                if (isCorrect === 'true') {
                    answerRecord.correct++;
                }
            });

            // 计算正确率（保留2位小数，避免除零错误）
            const accuracy = answerRecord.total > 0 
                ? ((answerRecord.correct / answerRecord.total) * 100).toFixed(2) 
                : '0.00';

            // 更新统计结果页面
            document.getElementById('correctCount').innerText = `答对题数：${answerRecord.correct}题`;
            document.getElementById('accuracyRate').innerText = `正确率：${accuracy}%`;

            // 显示统计区域
            document.getElementById('resultContainer').style.display = 'block';

            // 显示最终结果自定义提示框
            showCustomTip('correct', '闯关完成！', `总题数：${answerRecord.total}题\n答对题数：${answerRecord.correct}题\n正确率：${accuracy}%`);
        });
    };

    // 新增：动态生成左侧题号导航
    function generateQuestionNav() {
        const navList = document.getElementById('navList');
        navList.innerHTML = ''; // 清空原有内容

        for (let i = 0; i < allQuestionCards.length; i++) {
            const navItem = document.createElement('a');
            navItem.className = 'nav-item';
            navItem.dataset.index = i;
            navItem.innerText = i + 1;

            // 绑定题号点击跳转事件
            navItem.addEventListener('click', function() {
                const targetIndex = parseInt(this.dataset.index);
                goToSpecificQuestion(targetIndex);
            });

            navList.appendChild(navItem);
            allNavItems.push(navItem);
        }
    }

    // 新增：跳转到指定题号
    function goToSpecificQuestion(targetIndex) {
        if (targetIndex < 0 || targetIndex >= allQuestionCards.length) return;

        // 隐藏当前题
        allQuestionCards[currentQuestionIndex].classList.remove('active');
        allNavItems[currentQuestionIndex].classList.remove('active');

        // 更新当前索引
        currentQuestionIndex = targetIndex;

        // 显示目标题
        showCurrentQuestion();

        // 更新侧边按钮状态
        updateSidebarBtnStatus();
    }

    // 新增：跳转到上一题
    function goToPrevQuestion() {
        if (currentQuestionIndex > 0) {
            goToSpecificQuestion(currentQuestionIndex - 1);
        }
    }

    // 新增：跳转到下一题
    function goToNextQuestion() {
        if (currentQuestionIndex < allQuestionCards.length - 1) {
            goToSpecificQuestion(currentQuestionIndex + 1);
            // 隐藏底部下一题按钮
            document.getElementById('nextBtn').style.display = 'none';
        }
    }

    // 新增：更新侧边按钮启用/禁用状态
    function updateSidebarBtnStatus() {
        // 上一题按钮：第一题禁用，其余启用
        if (currentQuestionIndex === 0) {
            prevBtn.classList.remove('enabled');
        } else {
            prevBtn.classList.add('enabled');
        }

        // 下一题按钮：最后一题禁用，其余启用
        if (currentQuestionIndex === allQuestionCards.length - 1) {
            sidebarNextBtn.classList.remove('enabled');
        } else {
            sidebarNextBtn.classList.add('enabled');
        }
    }

    // 辅助函数1：显示当前题目并更新进度、导航激活状态
    function showCurrentQuestion() {
        if (allQuestionCards[currentQuestionIndex] && allNavItems[currentQuestionIndex]) {
            // 激活当前题目
            allQuestionCards[currentQuestionIndex].classList.add('active');
            // 激活当前导航题号
            allNavItems[currentQuestionIndex].classList.add('active');
            // 更新答题进度提示
            document.getElementById('questionProgress').innerText = 
                `当前：第${currentQuestionIndex + 1}题 / 共${answerRecord.total}题`;
        }
    }

    // 辅助函数2：显示自定义提示框
    function showCustomTip(type, title, content) {
        const tipTitle = document.getElementById('tipTitle');
        const tipContent = document.getElementById('tipContent');

        // 重置提示框样式
        customTip.className = 'custom-tip';
        customTip.classList.add(`${type}-tip`);

        // 填充内容
        tipTitle.innerText = title;
        tipContent.innerText = content;

        // 显示提示框
        customTip.style.display = 'block';
    }

    // 辅助函数3：高亮显示正确/错误选项
    function highlightOption(questionCard, correctAnswer, userAnswer) {
        const optionItems = questionCard.querySelectorAll('.option-item');
        optionItems.forEach(item => {
            const input = item.querySelector('input');
            if (input.value === correctAnswer) {
                // 正确选项高亮
                item.classList.add('correct');
            } else if (input.value === userAnswer && userAnswer !== correctAnswer) {
                // 错误选项标记
                item.classList.add('incorrect');
            }
        });
    }
</script>
</html>